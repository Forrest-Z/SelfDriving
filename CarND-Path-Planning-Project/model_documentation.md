### model documentation

// fit a curve by five waypoints: the first two are the last two points in the previous trajectory, 
the other three are generated by the path planning module 
tk::spline s; 
s.set_points(ptsx, ptsy); 

// keep the previous points constant 
for(int i=0; i<prev_size; i++)
{
    next_x_vals.push_back(previous_path_x[i]);
    next_y_vals.push_back(previous_path_y[i]); 
}

// add on more points 
double target_x = 30;
double target_y = s(target_x); 
double target_dist = sqrt(target_x * target_x + target_y * target_y); 

// 
double x_add_on = 0; 
for(int i=0; i<50 - prev_size; i++)
{
    // given the ref_velocity, estimate the incremental x value for the next 0.02 seconds
    double N = (target_dist/(0.02*ref_vel/2.24)); 
    double x_point = x_add_on + (target_x)/N; 
    x_add_on = x_point; 
    
    // given x value, compute y value using the spline equation generated before
    double y_point = s(x_point); 

    // transform from body to global reference 
    double x_ref = x_point;
    double y_ref = y_point; 
    x_point = x_ref * cos(ref_yaw) - y_ref * sin(ref_yaw) + ref_x; 
    y_point = x_ref * sin(ref_yaw) + y_ref * cos(ref_yaw) + ref_y; 

    // This vector contains the current generated path 
    next_x_vals.push_back(x_point); 
    next_y_vals.push_back(y_point); 
}



